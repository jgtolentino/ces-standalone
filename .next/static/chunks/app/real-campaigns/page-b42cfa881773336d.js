(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{3519:function(e,s,a){Promise.resolve().then(a.bind(a,7596))},7596:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var t=a(7437),l=a(2265),r=a(9763);let i=(0,r.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var n=a(2252);let c=(0,r.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var d=a(8896),x=a(6221),o=a(1239);function m(){var e;let[s,a]=(0,l.useState)([]),[r,m]=(0,l.useState)(null),[h,u]=(0,l.useState)(null),[g,y]=(0,l.useState)(!0),[p,j]=(0,l.useState)(null),[f,v]=(0,l.useState)(""),[N,b]=(0,l.useState)(""),[w,k]=(0,l.useState)("");(0,l.useEffect)(()=>{C()},[]);let C=async()=>{try{y(!0);let e=await fetch("/api/campaign-analysis?type=summary"),s=await e.json();m(s.summary);let t=await fetch("/api/campaign-analysis?limit=50"),l=await t.json();a(l.campaigns)}catch(e){j(e instanceof Error?e.message:"Failed to load data")}finally{y(!1)}},S=async e=>{try{let s=await fetch("/api/campaign-analysis?campaignId=".concat(e)),a=await s.json();u(a)}catch(e){j("Failed to analyze campaign")}},A=e=>e>=7?"text-green-400":e>=5?"text-yellow-400":"text-red-400",Z=s.filter(e=>{let s=e.name.toLowerCase().includes(f.toLowerCase())||e.brand.toLowerCase().includes(f.toLowerCase()),a=!N||e.industry===N,t=!w||e.region===w;return s&&a&&t});return g?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("div",{className:"text-gray-400",children:"Loading real campaign data..."})]})})}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,t.jsx)(i,{className:"w-8 h-8 text-blue-400"}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Real Campaign Analysis"})]}),(0,t.jsxs)("p",{className:"text-xl text-gray-400 max-w-4xl mx-auto",children:["Business-outcome analysis of your real ",(null==r?void 0:r.totalCampaigns)||0," campaigns with ",(null==r?void 0:r.totalCreativeAssets)||0," creative assets"]})]}),p&&(0,t.jsx)("div",{className:"bg-red-900/50 border border-red-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"w-5 h-5 text-red-400"}),(0,t.jsx)("span",{className:"text-red-300",children:p})]})}),r&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:r.totalCampaigns}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Total Campaigns"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-400",children:r.totalCreativeAssets}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Creative Assets"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:r.totalPerformanceRecords}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Performance Records"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:r.businessOutcomes}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Business Outcomes"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,t.jsx)("div",{className:"flex-1 min-w-64",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns or brands...",value:f,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("select",{value:N,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"All Industries"}),r.industries.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"All Regions"}),r.regions.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-2xl font-semibold text-white",children:["Campaign Analysis (",Z.length,")"]}),(0,t.jsx)("button",{onClick:C,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Refresh Analysis"})]}),(0,t.jsx)("div",{className:"space-y-4",children:Z.map(e=>(0,t.jsx)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Brand:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.brand})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Industry:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.industry})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Region:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.region})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Budget:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:["$",e.budget.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("span",{className:"text-gray-400",children:[e.assets," assets"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-green-400"}),(0,t.jsxs)("span",{className:"text-gray-400",children:[e.performanceRecords," records"]})]})]})]}),e.analysis&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-3xl font-bold ".concat(A(e.analysis.businessEffectivenessScore)),children:e.analysis.businessEffectivenessScore.toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Business Score"}),(0,t.jsxs)("div",{className:"mt-3 space-y-1 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"ROI:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.analysis.actualPerformance.roi.toFixed(2),"x"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Engagement:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.analysis.actualPerformance.engagement.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Conversion:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.analysis.actualPerformance.conversion.toFixed(1),"%"]})]})]})]})]})}),(0,t.jsxs)("button",{onClick:()=>S(e.campaign_id),className:"ml-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Deep Analysis"})]})]})},e.campaign_id))})]}),h&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsx)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:h.campaign.name}),(0,t.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-white",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Business Effectiveness Analysis"}),(0,t.jsx)("div",{className:"border rounded-lg p-4 ".concat((e=h.analysis.businessEffectivenessScore)>=7?"bg-green-900/20 border-green-700":e>=5?"bg-yellow-900/20 border-yellow-700":"bg-red-900/20 border-red-700"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl font-bold ".concat(A(h.analysis.businessEffectivenessScore)),children:h.analysis.businessEffectivenessScore.toFixed(1)}),(0,t.jsx)("div",{className:"text-gray-400",children:"Business Effectiveness Score"})]})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h5",{className:"font-semibold text-white mb-2",children:"Business Recommendations"}),(0,t.jsx)("div",{className:"space-y-2",children:h.analysis.recommendations.map((e,s)=>(0,t.jsx)("div",{className:"text-sm text-gray-300 bg-gray-800 rounded p-3",children:e},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Business Outcomes"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(h.analysis.predictedOutcomes).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 capitalize",children:s.replace(/_/g," ")}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full bg-blue-500",style:{width:"".concat(Math.min(100,a/100*100),"%")}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-white w-12",children:a.toFixed(0)})]})]},s)})}),h.analysis.actualOutcomes&&Object.keys(h.analysis.actualOutcomes).length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h5",{className:"font-semibold text-white mb-2",children:"Actual Performance"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(h.analysis.actualOutcomes).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-300 capitalize",children:s.replace(/_/g," ")}),(0,t.jsx)("span",{className:"text-green-400",children:a.toFixed(1)})]},s)})})]})]})]})]})})})]})}},9763:function(e,s,a){"use strict";a.d(s,{Z:function(){return d}});var t=a(5583),l=a(1780),r=a(6796),i=a(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),d=(e,s)=>{let a=(0,i.forwardRef)((a,d)=>{var{color:x="currentColor",size:o=24,strokeWidth:m=2,absoluteStrokeWidth:h,className:u="",children:g}=a,y=(0,r._)(a,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return(0,i.createElement)("svg",(0,t._)((0,l._)((0,t._)({ref:d},n),{width:o,height:o,stroke:x,strokeWidth:h?24*Number(m)/Number(o):m,className:["lucide","lucide-".concat(c(e)),u].join(" ")}),y),[...s.map(e=>{let[s,a]=e;return(0,i.createElement)(s,a)}),...Array.isArray(g)?g:[g]])});return a.displayName="".concat(e),a}},2252:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6221:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8896:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},1239:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3519)}),_N_E=e.O()}]);